<!DOCTYPE html>
<html>
  <head>
  </head>
  <body>
    <div id="project" data-scope="project">
      <div data-text="name"></div>
    </div>
    <div id="user" data-scope="user">
      <div data-text="name"></div>
    </div>

		<script src="../build/build.js"></script>
    <script>
			var DDM = require('dom-data-map')

			// Arbitrary Data
			var appData = {
        project: {
          name: 'powerup'
        },
        user: {
          name: 'Tim Oxley'
        }
			}

			// set the context for the domData callbacks
			var domData = DDM(appData)

			// apply a callback to each matching element
			// passing the element and its associated data.
			// return a new object to set/update the element's
			// data.
			domData('[data-scope]', function(el, data) {
				var scope = el.attributes['data-scope'].value
        data.context = this[scope]
        return data
			})

			domData('[data-text]', function(el, data) {
				var text = el.attributes['data-text'].value
        el.innerText = this[text]
			})
		</script>
  </body>
</html>
